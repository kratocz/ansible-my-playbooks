# ansible-my-playbooks
The Ansible playbooks I use for my Linux servers and desktops. You can get inspired.

Tip: Also ChatGPT can create or adjust a playbook for you very well.

Clone this repository and see the usage below or just get inspired from my playbook(s):
- [ubuntu-server.yml](roles/common/tasks/packages-debian.yml)

## Supported OS
- Debian based Linuxes
- SUSE based Linuxes (including openSUSE)

## Usage
1. Install `ansible`
2. Clone this repository
3. Add your target hosts to the file `/etc/ansible/hosts` (alternatively you can use `inventory.ini` file in any directory, see the [Ansible documentation](https://docs.ansible.com/ansible/latest/getting_started/get_started_inventory.html)), e.g. add lines:
```
[servers]
web1.example.com
web2.example.com
```
For localhost desktop:
```
[desktops]
127.0.0.1 ansible_connection=local
```
4. In the cloned repository directory execute:
```
sudo ansible-playbook main.yml
```

## Example output
I executed the command `sudo ansible-playbook main.yml` on one an openSUSE desktop:

```
krato@localhost:~/IdeaProjects/ansible-my-playbooks> sudo ansible-playbook main.yml
[sudo] heslo pro root: 
[WARNING]: Could not match supplied host pattern, ignoring: servers

PLAY [servers] *********************************************************************************************************************************************************************************************************************************************************************************************************
skipping: no hosts matched

PLAY [desktops] ********************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] *************************************************************************************************************************************************************************************************************************************************************************************************
[WARNING]: Platform linux on host 127.0.0.1 is using the discovered Python interpreter at /usr/bin/python3.6, but future installation of another Python interpreter could change this. See https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html for more information.
ok: [127.0.0.1]

TASK [common : Remove repository "https://download.opensuse.org/repositories/SUSE:/{{ item }}:/GA/pool/"] **************************************************************************************************************************************************************************************************************
ok: [127.0.0.1] => (item=SLE-15-SP1)
ok: [127.0.0.1] => (item=SLE-15-SP2)
ok: [127.0.0.1] => (item=SLE-15-SP3)
ok: [127.0.0.1] => (item=SLE-15-SP4)
ok: [127.0.0.1] => (item=SLE-15-SP5)

TASK [common : Remove repository "https://download.opensuse.org/repositories/SUSE:/{{ item }}:/GA/toberemoved/"] *******************************************************************************************************************************************************************************************************
ok: [127.0.0.1] => (item=SLE-15-SP1)
ok: [127.0.0.1] => (item=SLE-15-SP2)
ok: [127.0.0.1] => (item=SLE-15-SP3)
ok: [127.0.0.1] => (item=SLE-15-SP4)
ok: [127.0.0.1] => (item=SLE-15-SP5)

TASK [common : stat] ***************************************************************************************************************************************************************************************************************************************************************************************************
ok: [127.0.0.1]

TASK [common : Add repository "filesystems"] ***************************************************************************************************************************************************************************************************************************************************************************
skipping: [127.0.0.1]

TASK [common : Install required packages] ******************************************************************************************************************************************************************************************************************************************************************************
ok: [127.0.0.1]

TASK [common : Update apt package cache] *******************************************************************************************************************************************************************************************************************************************************************************
skipping: [127.0.0.1]

TASK [common : Install required packages] ******************************************************************************************************************************************************************************************************************************************************************************
skipping: [127.0.0.1]

TASK [common : Clone .tmux repository if not exists] *******************************************************************************************************************************************************************************************************************************************************************
ok: [127.0.0.1]

TASK [common : Set tmux.conf symlink if not exists] ********************************************************************************************************************************************************************************************************************************************************************
ok: [127.0.0.1]

TASK [common : Create /root/.tmux.conf.local if not exists] ************************************************************************************************************************************************************************************************************************************************************
ok: [127.0.0.1]

TASK [common : Configure .tmux.conf.local] *****************************************************************************************************************************************************************************************************************************************************************************
ok: [127.0.0.1] => (item=set -g @plugin 'kratocz/tmux-screen')
ok: [127.0.0.1] => (item=set -g @plugin 'kratocz/tmux-kratocz')
ok: [127.0.0.1] => (item=set -g base-index 0)

PLAY RECAP *************************************************************************************************************************************************************************************************************************************************************************************************************
127.0.0.1                  : ok=9    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
```
